---
layout: post
title: C_指针
fullview: true
---

###一、数据类型的本质

####数据类型的概念

“类型”是对数据的抽象

类型相同的数据有相同的形式、存储格式以及相关的操作

程序中使用的所有数据都必定属于某一种数据类型

简单类型
基本类型：整型（int）、浮点型（float，double）、字符型（char）、空类型（void）

用户定义类型：枚举类型（enum）

结构类型
数组（［］）、结构（struct）、联合（union）、类（class）

指针类型
（＊）

####数据类型的本质
数据类型可理解为创建变量的模具，是固定内存大小的别名。

数据类型的作用：编译器预算变量分配内存空间的大小。

###二、变量的本质

既能读又能写的内存对象称为变量；若一旦初始化后不能修改的变量称为常量。

程序通过变量来申请和命名内存空间

通过变量名访问内存空间：（一段连续）内存空间的别名（是个门牌号）

修改变量方式：

1.直接

2.间接：内存有地址编号，拿到地址编号即可进行修改内存。

###三、内存四区模型
栈区（stack）：由编译器自动分配释放，存放函数的参数值、局部变量值等。

堆区（heap）：一般由程序员分配释放（动态内存申请和释放），若程序员不释放，则程序结束时可能由操作系统回收。

全局区（静态区）（static）：全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另一块区域，该区域在程序结束后由操作系统释放。常量：字符串常量和其它常量的存储位置，程序结束后由操作系统释放。

程序代码区：存放函数体的二进制代码。

静态存储区的理解
{% highlight C %}
char* getPtr1() {
	char *p1 = "abcdefg";
	return p1;
}
char* getPtr2() {
	char *p2 = "abcdefg";
	return p2;
}

void main() {
	char *ptr1 = NULL;
	char *ptr2 = NULL;
	ptr1 = getPtr1();
	ptr2 = getPtr2();

	printf("p1:%s , p2:%s \n", p1, p2);
	printf("p1:%p , p2:%p \n", p1, p2);
}
{% endhighlight %}
此时ptr1和ptr2所指向的内存区域为同一个地址。

输出结果为：
![output_0](/assets/posts/pointer/0.png)

###四、结构体的内存对齐模式
